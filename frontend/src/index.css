/* Fonts imported via @fontsource in main.jsx */
@import "tailwindcss";

/* Define custom variant for dark mode in Tailwind v4 */
@custom-variant dark (&:is(.dark *));

@theme {
  /* Gourmet Functional Palette */
  --color-background: #F9F8F3;
  /* Warm Bone */
  --color-foreground: #284136;
  /* Deep Moss Green (Text) */

  --color-primary: #284136;
  /* Deep Moss Green */
  --color-primary-foreground: #FFFFFF;

  --color-accent: #C85A3C;
  /* Burnt Orange */
  --color-accent-foreground: #FFFFFF;

  --color-surface: #FFFFFF;
  --color-surface-foreground: #284136;

  --color-border: #E8EAE6;
  --color-input: #FFFFFF;
  --color-ring: #C85A3C;

  /* Fonts */
  --font-serif: 'Fraunces', serif;
  /* Headings */
  --font-sans: 'Plus Jakarta Sans', sans-serif;
  /* UI */
  --font-mono: 'JetBrains Mono', monospace;
  /* Data */

  /* Radius */
  --radius-xl: 1.5rem;
  /* 24px */
  --radius-2xl: 2rem;
  /* 32px */
  --radius-3xl: 2.5rem;
  /* 40px - User Specified */

  /* Shadows */
  --shadow-card: 0 30px 70px -10px rgba(0, 0, 0, 0.04);
  --shadow-float: 0 20px 40px -5px rgba(0, 0, 0, 0.1);
}

/* Neutral Obsidian Dark Mode */
html.dark {
  --color-background: #111212;
  --color-foreground: #E2E5E1;
  --color-primary: #E2E5E1;
  --color-primary-foreground: #111212;
  --color-accent: #E07A5F;
  --color-accent-foreground: #FFFFFF;
  --color-surface: #1C1D1D;
  --color-surface-foreground: #E2E5E1;
  --color-border: #2B2D2D;
  --color-input: #1C1D1D;
  --color-ring: #E07A5F;
  --shadow-card: 0 30px 70px -10px rgba(0, 0, 0, 0.4);
  --shadow-float: 0 40px 80px rgba(0, 0, 0, 0.6);
}

:root {
  /* Capacitor SystemBars fallback variables */
  --safe-area-top: env(safe-area-inset-top, var(--safe-area-inset-top, 0px));
  --safe-area-bottom: env(safe-area-inset-bottom, var(--safe-area-inset-bottom, 0px));
  --safe-area-left: env(safe-area-inset-left, var(--safe-area-inset-left, 0px));
  --safe-area-right: env(safe-area-inset-right, var(--safe-area-inset-right, 0px));
}

@layer base {

  html,
  body,
  #root {
    height: 100%;
    height: 100dvh;
    margin: 0;
    padding: 0;
    width: 100%;
    overflow: hidden;
  }

  body {
    @apply bg-background text-primary font-sans antialiased;
    /* Stardust/Grain Texture Overlay */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
  }

  /* Dark mode: micro-carbon noise at 8% opacity with screen blend */
  html.dark body {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
    background-blend-mode: screen;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-serif font-black tracking-tight text-primary;
  }

  /* Interaction Polish */
  button,
  a {
    @apply active:scale-95 transition-transform duration-150 ease-out;
  }
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Dense Technical Lists */
  .tech-list {
    @apply font-mono text-sm tracking-tight;
  }

  /* Glassmorphism utility */
  .glass {
    @apply bg-white/90 backdrop-blur-2xl border border-white/20;
  }
  html.dark .glass {
    background: rgba(28, 29, 29, 0.9);
    border-color: rgba(43, 45, 45, 0.3);
  }

  /* Text Balance for titles */
  .text-balance {
    text-wrap: balance;
  }
}

@layer components {

  /* Markdown Styles for Chat */
  .markdown-body {
    @apply text-primary/90 font-sans leading-normal;
  }

  .markdown-body p {
    @apply mb-1.5 last:mb-0;
  }

  .markdown-body strong {
    @apply font-bold text-primary;
  }

  .markdown-body ul {
    @apply list-disc list-outside ml-3 mb-1.5;
  }

  .markdown-body ol {
    @apply list-decimal list-outside ml-3 mb-1.5;
  }

  .markdown-body li {
    @apply mb-0.5;
  }

  .markdown-body a {
    @apply text-accent hover:underline font-medium;
  }

  .markdown-body code {
    @apply bg-surface border border-border px-1.5 py-0.5 rounded-md text-xs font-mono text-primary/80;
  }
}